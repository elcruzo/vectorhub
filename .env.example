# VectorHub Environment Configuration
# Copy this file to .env and customize for your environment

# ============================================
# SERVER CONFIGURATION
# ============================================
VECTORHUB_SERVER__GRPC_PORT=50051
VECTORHUB_SERVER__METRICS_PORT=9090
VECTORHUB_SERVER__MAX_MESSAGE_SIZE_MB=100
VECTORHUB_SERVER__MAX_CONCURRENT_STREAMS=1000
VECTORHUB_SERVER__CONNECTION_TIMEOUT_SECONDS=30
VECTORHUB_SERVER__KEEPALIVE_TIME_SECONDS=10
VECTORHUB_SERVER__KEEPALIVE_TIMEOUT_SECONDS=5

# TLS Configuration (leave empty for insecure connections)
VECTORHUB_SERVER__TLS_ENABLED=false
VECTORHUB_SERVER__TLS_CERT_FILE=
VECTORHUB_SERVER__TLS_KEY_FILE=

# ============================================
# REDIS CONFIGURATION
# ============================================
# Comma-separated list of Redis addresses
VECTORHUB_REDIS__ADDRESSES=localhost:6379,localhost:6380,localhost:6381,localhost:6382
VECTORHUB_REDIS__PASSWORD=
VECTORHUB_REDIS__DB=0
VECTORHUB_REDIS__POOL_SIZE=100
VECTORHUB_REDIS__MIN_IDLE_CONNS=10
VECTORHUB_REDIS__MAX_RETRIES=3
VECTORHUB_REDIS__DIAL_TIMEOUT_SECONDS=5
VECTORHUB_REDIS__READ_TIMEOUT_SECONDS=3
VECTORHUB_REDIS__WRITE_TIMEOUT_SECONDS=3

# Redis Cluster/Sentinel Mode
VECTORHUB_REDIS__CLUSTER_MODE=false
VECTORHUB_REDIS__SENTINEL_MODE=false
VECTORHUB_REDIS__SENTINEL_MASTER_NAME=

# ============================================
# SHARDING CONFIGURATION
# ============================================
VECTORHUB_SHARDING__SHARD_COUNT=8
VECTORHUB_SHARDING__REPLICA_COUNT=2
VECTORHUB_SHARDING__VIRTUAL_NODES=150
VECTORHUB_SHARDING__HEALTH_CHECK_INTERVAL_SECONDS=10
VECTORHUB_SHARDING__REBALANCE_ENABLED=true
VECTORHUB_SHARDING__REBALANCE_INTERVAL_MINUTES=60

# ============================================
# REPLICATION CONFIGURATION
# ============================================
VECTORHUB_REPLICATION__FACTOR=2
VECTORHUB_REPLICATION__SYNC_INTERVAL_SECONDS=5
VECTORHUB_REPLICATION__MAX_LAG_SECONDS=30
VECTORHUB_REPLICATION__FAILOVER_TIMEOUT_SECONDS=60
# Comma-separated list of replica addresses
VECTORHUB_REPLICATION__REPLICA_ADDRESSES=localhost:6380,localhost:6381
VECTORHUB_REPLICATION__ASYNC_REPLICATION=true
VECTORHUB_REPLICATION__COMPRESSION_ENABLED=false

# ============================================
# METRICS CONFIGURATION
# ============================================
VECTORHUB_METRICS__ENABLED=true
VECTORHUB_METRICS__NAMESPACE=vectorhub
VECTORHUB_METRICS__SUBSYSTEM=server
VECTORHUB_METRICS__COLLECTION_INTERVAL_SECONDS=10
VECTORHUB_METRICS__ENABLE_DETAILED_METRICS=true

# ============================================
# LOGGING CONFIGURATION
# ============================================
VECTORHUB_LOGGING__LEVEL=info
VECTORHUB_LOGGING__FORMAT=json
VECTORHUB_LOGGING__OUTPUT_PATH=stdout
VECTORHUB_LOGGING__ERROR_OUTPUT_PATH=stderr
VECTORHUB_LOGGING__ENABLE_STACKTRACE=false
VECTORHUB_LOGGING__ENABLE_CALLER=true
VECTORHUB_LOGGING__ENABLE_SAMPLING=false
VECTORHUB_LOGGING__SAMPLING_INITIAL=100
VECTORHUB_LOGGING__SAMPLING_THEREAFTER=100

# ============================================
# PERFORMANCE CONFIGURATION
# ============================================
VECTORHUB_PERFORMANCE__MAX_CPU=0
VECTORHUB_PERFORMANCE__MAX_MEMORY_GB=8
VECTORHUB_PERFORMANCE__ENABLE_PROFILING=false
VECTORHUB_PERFORMANCE__PROFILING_PORT=6060
VECTORHUB_PERFORMANCE__GC_PERCENT=100
VECTORHUB_PERFORMANCE__ENABLE_MEMORY_LIMIT=true
VECTORHUB_PERFORMANCE__VECTOR_CACHE_SIZE_MB=1024
VECTORHUB_PERFORMANCE__INDEX_CACHE_SIZE_MB=512
VECTORHUB_PERFORMANCE__QUERY_CACHE_ENABLED=true
VECTORHUB_PERFORMANCE__QUERY_CACHE_TTL_SECONDS=60

# ============================================
# MONITORING (External Services)
# ============================================
# Prometheus endpoint (for scraping)
PROMETHEUS_URL=http://localhost:9091

# Grafana credentials
GRAFANA_ADMIN_PASSWORD=admin
GRAFANA_URL=http://localhost:3000
